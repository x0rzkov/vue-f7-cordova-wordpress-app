(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],p=0,d=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"29d8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=n("d42c"),i=n("6baf"),s=n("2f62");a["a"].use(s["a"]);var r=new s["a"].Store({state:{splash:!0},mutations:{showSplash:function(t){t.splash=!0},hideSplash:function(t){t.splash=!1}},getters:{splash:function(t){return t.splash}}}),c=n("d225"),l=n("b0b4"),u=n("bc3a"),p=n.n(u),d=function(){function t(){Object(c["a"])(this,t),this.baseUrl="https://eedama.org"}return Object(l["a"])(t,[{key:"call",value:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(s,r){p.a[t](n.baseUrl+e,a,o).then((function(t){Z.$f7.preloader.hide(),s(t)})).catch((function(t){var e=t.response;Z.$f7.preloader.hide(),i&&r(e)}))}))}}]),t}(),f=d,h=(n("3f01"),n("29d8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"splash"}})}),m=[],b={name:"splash",created:function(){this.$f7.preloader.show(),setTimeout(function(){this.$f7.preloader.hide(),this.$f7router.navigate("/home/")}.bind(this),1e3)}},g=b,v=n("2877"),w=Object(v["a"])(g,h,m,!1,null,null,null),_=w.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"home","page-content":!1}},[n("f7-navbar",{attrs:{title:t.$root.app.name}}),n("f7-toolbar",{attrs:{tabbar:"",position:"bottom"}},[n("f7-link",{attrs:{"tab-link":"#tab-home","tab-link-active":"",text:"Home","icon-fa":"home","icon-size":"15px"}}),n("f7-link",{attrs:{"tab-link":"#tab-categories",text:"Categories","icon-fa":"list","icon-size":"15px"}})],1),n("f7-tabs",{attrs:{animated:"",swipeable:""}},[n("f7-tab",{staticClass:"page-content infinite-scroll-content",attrs:{id:"tab-home","tab-active":"","infinite-distance":50},on:{"tab:show":t.tabHomeShown},nativeOn:{infinite:function(e){return t.loadMore(e)}}},[n("f7-block-title",[t._v(t._s(t.posts.category?t.posts.category.name:"Latest Posts"))]),n("f7-list",{attrs:{"media-list":""}},t._l(t.posts.data,(function(e,a){return n("f7-list-item",{key:"p"+a,attrs:{link:"#",title:e.title,subtitle:new Date(e.date).toDateString()},on:{click:function(n){return t.readMore(e)}}},[n("img",{attrs:{slot:"media",src:e.image?e.image:t.noImage,width:"80"},slot:"media"})])})),1),t.loading?n("f7-block",{staticClass:"text-align-center"},[n("f7-preloader")],1):t._e()],1),n("f7-tab",{staticClass:"page-content",attrs:{id:"tab-categories"},on:{"tab:show":t.tabCategoriesShown}},[n("f7-block-title",[t._v("Categories")]),n("f7-list",t._l(t.categories,(function(e,a){return n("f7-list-item",{key:"c"+a,attrs:{title:e.name,link:"/home/"+e.id,badge:e.count},on:{click:function(n){return t.showCategoryPosts(e)}}})})),1)],1)],1)],1)},y=[],x={name:"home",created:function(){this.getPosts(),this.getCategories()},mounted:function(){document.addEventListener("backbutton",this.onBackKeyDown,!1)},computed:{noImage:function(){return n("8ae7")}},data:function(){return{posts:{page:1,category:null,data:[]},categories:[],allowInfinite:!0,loading:!0}},methods:{getPosts:function(){var t=this,e="/wp-json/wp/v2/posts?_embed&page="+this.posts.page;this.posts.category&&(e="/wp-json/wp/v2/posts?_embed&categories="+this.posts.category.id+"&page="+this.posts.page),this.loading=!0,window.api.call("get",e,null,[],!0).then((function(e){for(var n=e.data,a=[],o=0;o<n.length;o++){var i=null;n[o]._embedded["wp:featuredmedia"]&&n[o]._embedded["wp:featuredmedia"][0]&&n[o]._embedded["wp:featuredmedia"][0].media_details&&n[o]._embedded["wp:featuredmedia"][0].media_details.sizes&&n[o]._embedded["wp:featuredmedia"][0].media_details.sizes.medium&&(i=n[o]._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url),a.push({id:n[o].id,title:n[o].title.rendered,date:n[o].date,image:i})}t.posts.category&&1===t.posts.page?(t.posts.data=a,t.allowInfinite=!1,t.posts.data.length>=t.posts.category.count&&(t.loading=!1)):(t.posts.data=t.posts.data.concat(a),t.allowInfinite=!0)})).catch((function(){t.loading=!1,t.allowInfinite=!1}))},loadMore:function(){this.allowInfinite&&(this.allowInfinite=!1,this.posts.page+=1,this.getPosts())},readMore:function(t){document.removeEventListener("backbutton",this.onBackKeyDown),this.$f7router.navigate("/post/",{props:{post:t}})},getCategories:function(){var t=this;window.api.call("get","/wp-json/wp/v2/categories?_embed").then((function(e){var n=e.data;t.categories=n}))},showCategoryPosts:function(t){this.posts.data=[],this.posts.category=t,this.posts.page=1,this.getPosts(),this.$f7.tab.show("#tab-home")},tabHomeShown:function(){},tabCategoriesShown:function(){},onBackKeyDown:function(t){t.preventDefault(),window.navigator.app.exitApp()}}},j=x,$=Object(v["a"])(j,k,y,!1,null,null,null),O=$.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"home"}},[n("f7-navbar",{attrs:{title:t.$root.app.name}}),n("tabbar",{attrs:{active:"categories"}})],1)},P=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-toolbar",{attrs:{tabbar:"",position:"bottom"}},[n("f7-link",{attrs:{"tab-link-active":"",text:"Home","icon-fa":"user","icon-size":"15px"},on:{click:function(e){return t.$f7router.navigate("/home/")}}}),n("f7-link",{class:{"tab-link-active":"categories"===t.active},attrs:{text:"Categories","icon-fa":"list","icon-size":"15px"},on:{click:function(e){return t.$f7router.navigate("/categories/")}}})],1)},E=[],D={name:"tabbar",props:["active"]},M=D,I=Object(v["a"])(M,S,E,!1,null,null,null),z=I.exports,B={name:"categories",components:{tabbar:z},created:function(){},data:function(){return{}},methods:{}},K=B,L=Object(v["a"])(K,C,P,!1,null,null,null),H=L.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"post"}},[n("f7-navbar",{attrs:{title:t.post?t.post.title:"","back-link":"Back"}}),t.post?n("f7-card",{staticClass:"demo-card-header-pic",attrs:{outline:""}},[t.post.image?n("f7-card-header",{staticClass:"no-border",style:"background-image:url("+t.post.image+"); height: 120px",attrs:{valign:"bottom"}}):t._e(),n("f7-card-content",[n("p",{staticClass:"date"},[t._v("Posted on "+t._s(new Date(t.post.date).toUTCString()))]),n("h1",[t._v(t._s(t.post.title))]),n("br"),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}})])],1):t._e()],1)},U=[],J={name:"post",props:["post"],created:function(){var t=this;this.post&&(this.$f7.preloader.show(),window.api.call("get","/wp-json/wp/v2/posts/"+this.post.id+"?_embed").then((function(e){var n=e.data;t.content=n.content.rendered})))},mounted:function(){document.addEventListener("backbutton",this.onBackKeyDown,!1)},data:function(){return{content:null}},methods:{onBackKeyDown:function(t){t.preventDefault(),this.$f7router.back(),document.removeEventListener("backbutton",this.onBackKeyDown)}}},A=J,q=Object(v["a"])(A,T,U,!1,null,null,null),F=q.exports,G=[{path:"/splash/",component:_},{path:"/home/",component:O},{path:"/categories/",component:H},{path:"/post/",component:F}],N=G,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-app",{staticClass:"color-theme-blue",attrs:{params:t.$root.app}},[n("f7-view",{attrs:{main:"",url:"/home/"}})],1)},R=[],V={name:"app",created:function(){}},W=V,X=Object(v["a"])(W,Q,R,!1,null,null,null),Y=X.exports;window.Event=new a["a"],o["a"].use(i["a"]),window.api=new f;var Z=e["default"]=new a["a"]({store:r,data:function(){return{app:{name:"Eedama",id:"com.wpapp",routes:N}}},render:function(t){return t(Y)}}).$mount("#app")},"8ae7":function(t,e,n){t.exports=n.p+"img/no-image.a5e6fa7a.svg"}});
//# sourceMappingURL=app.b184c67e.js.map